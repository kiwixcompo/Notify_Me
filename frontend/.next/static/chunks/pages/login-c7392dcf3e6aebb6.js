(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{6429:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return l(1632)}])},717:function(e,t,l){"use strict";l.d(t,{Z:function(){return u}});var r=l(5893),n=l(7294),a=l(1163),o=l(7066);let s=n.forwardRef(function(e,t){let{title:l,titleId:r,...a}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),l?n.createElement("title",{id:r},l):null,n.createElement("path",{fillRule:"evenodd",d:"M12 1.5a5.25 5.25 0 0 0-5.25 5.25v3a3 3 0 0 0-3 3v6.75a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3v-6.75a3 3 0 0 0-3-3v-3c0-2.9-2.35-5.25-5.25-5.25Zm3.75 8.25v-3a3.75 3.75 0 1 0-7.5 0v3h7.5Z",clipRule:"evenodd"}))}),i=n.forwardRef(function(e,t){let{title:l,titleId:r,...a}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),l?n.createElement("title",{id:r},l):null,n.createElement("path",{d:"M1.5 8.67v8.58a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V8.67l-8.928 5.493a3 3 0 0 1-3.144 0L1.5 8.67Z"}),n.createElement("path",{d:"M22.5 6.908V6.75a3 3 0 0 0-3-3h-15a3 3 0 0 0-3 3v.158l9.714 5.978a1.5 1.5 0 0 0 1.572 0L22.5 6.908Z"}))});function u(e){let{mode:t}=e,[l,u]=(0,n.useState)(""),[c,d]=(0,n.useState)(""),[m,f]=(0,n.useState)(""),[b,g]=(0,n.useState)(""),[h,x]=(0,n.useState)(""),[p,w]=(0,n.useState)(!1),v=(0,a.useRouter)(),j=async e=>{e.preventDefault(),x(""),w(!0);try{"register"===t&&await o.Z.post("".concat("http://192.168.43.160:4000","/api/auth/register"),{email:l,password:c,name:m,phone:b});let e=await o.Z.post("".concat("http://192.168.43.160:4000","/api/auth/login"),{email:l,password:c});localStorage.setItem("token",e.data.token),v.replace("/dashboard")}catch(e){console.error("Auth error:",e),e.response&&e.response.data&&e.response.data.error?x(e.response.data.error):e.message&&e.message.includes("Network")?x("Network error: Please check your connection and API URL."):x("An unexpected error occurred. Please try again.")}finally{w(!1)}};return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-100 via-blue-50 to-indigo-100 px-4",children:(0,r.jsx)("div",{className:"max-w-md w-full mx-auto",children:(0,r.jsxs)("form",{onSubmit:j,className:"bg-white/90 rounded-2xl shadow-2xl p-8 md:p-10 flex flex-col items-center",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center mb-6",children:[(0,r.jsx)(s,{className:"w-12 h-12 text-blue-600 drop-shadow-lg"}),(0,r.jsx)(i,{className:"w-8 h-8 text-indigo-400 ml-[-12px] mt-6 rotate-12"})]}),(0,r.jsx)("h2",{className:"text-2xl md:text-3xl font-extrabold text-blue-800 mb-2 drop-shadow-sm text-center",children:"login"===t?"Sign in to your account":"Create your account"}),(0,r.jsx)("p",{className:"text-blue-700 mb-6 text-center text-sm md:text-base",children:"login"===t?"Welcome back! Please enter your credentials.":"Register to get instant job alerts."}),h&&(0,r.jsx)("div",{className:"mb-4 w-full text-center text-red-600 bg-red-50 border border-red-200 rounded p-2",children:h}),"register"===t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("label",{className:"block mb-2 font-medium w-full text-left",children:"Name"}),(0,r.jsx)("input",{type:"text",className:"w-full px-3 py-2 border border-blue-200 rounded focus:outline-none focus:ring-2 focus:ring-blue-400 mb-4 transition",value:m,onChange:e=>f(e.target.value),required:!0,autoComplete:"name",placeholder:"Your name"}),(0,r.jsx)("label",{className:"block mb-2 font-medium w-full text-left",children:"Phone"}),(0,r.jsx)("input",{type:"tel",className:"w-full px-3 py-2 border border-blue-200 rounded focus:outline-none focus:ring-2 focus:ring-blue-400 mb-4 transition",value:b,onChange:e=>g(e.target.value),autoComplete:"tel",placeholder:"Your phone (optional)"})]}),(0,r.jsx)("label",{className:"block mb-2 font-medium w-full text-left",children:"Email"}),(0,r.jsx)("input",{type:"email",className:"w-full px-3 py-2 border border-blue-200 rounded focus:outline-none focus:ring-2 focus:ring-blue-400 mb-4 transition",value:l,onChange:e=>u(e.target.value),required:!0,autoComplete:"email",placeholder:"you@email.com"}),(0,r.jsx)("label",{className:"block mb-2 font-medium w-full text-left",children:"Password"}),(0,r.jsx)("input",{type:"password",className:"w-full px-3 py-2 border border-blue-200 rounded focus:outline-none focus:ring-2 focus:ring-blue-400 mb-6 transition",value:c,onChange:e=>d(e.target.value),required:!0,autoComplete:"login"===t?"current-password":"new-password",placeholder:"Your password"}),(0,r.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 rounded-lg shadow hover:bg-blue-700 hover:scale-105 active:scale-95 transition font-semibold text-lg mb-2 z-10 focus:outline-none focus:ring-4 focus:ring-blue-300",disabled:p,children:p?"login"===t?"Logging in...":"Registering...":"login"===t?"Login":"Register"}),(0,r.jsx)("div",{className:"mt-4 text-center w-full",children:"login"===t?(0,r.jsxs)("span",{children:["Don't have an account? ",(0,r.jsx)("a",{href:"/register",className:"text-blue-600 hover:underline font-semibold",children:"Register"})]}):(0,r.jsxs)("span",{children:["Already have an account? ",(0,r.jsx)("a",{href:"/login",className:"text-blue-600 hover:underline font-semibold",children:"Login"})]})})]})})})}},1632:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return s}});var r=l(5893),n=l(7294),a=l(1163),o=l(717);function s(){let e=(0,a.useRouter)();return(0,n.useEffect)(()=>{localStorage.getItem("token")&&e.replace("/dashboard")},[e]),(0,r.jsx)(o.Z,{mode:"login"})}}},function(e){e.O(0,[143,888,774,179],function(){return e(e.s=6429)}),_N_E=e.O()}]);