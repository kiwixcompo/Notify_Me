(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{1075:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return s(3259)}])},6153:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var r=s(5893),a=s(1163);function l(e){let{children:t}=e,s=(0,a.useRouter)();return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("nav",{className:"bg-white shadow mb-8",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-3 flex justify-between items-center",children:[(0,r.jsx)("div",{className:"font-bold text-lg text-blue-700",children:"WWR Notify Me"}),(0,r.jsxs)("div",{className:"space-x-4",children:[(0,r.jsx)("a",{href:"/dashboard",className:"text-gray-700 hover:text-blue-700",children:"Dashboard"}),(0,r.jsx)("a",{href:"/preferences",className:"text-gray-700 hover:text-blue-700",children:"Preferences"}),(0,r.jsx)("button",{onClick:()=>{localStorage.removeItem("token"),s.replace("/login")},className:"text-gray-700 hover:text-red-600 ml-2",children:"Logout"})]})]})}),(0,r.jsx)("main",{children:t})]})}},3259:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var r=s(5893),a=s(7294),l=s(1163),o=s(7066),n=s(6153);let i=a.forwardRef(function(e,t){let{title:s,titleId:r,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),s?a.createElement("title",{id:r},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 6.75 22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3-4.5 16.5"}))}),c=a.forwardRef(function(e,t){let{title:s,titleId:r,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),s?a.createElement("title",{id:r},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}),d=a.forwardRef(function(e,t){let{title:s,titleId:r,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),s?a.createElement("title",{id:r},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125M3.375 19.5h7.5c.621 0 1.125-.504 1.125-1.125m-9.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-7.5A1.125 1.125 0 0 1 12 18.375m9.75-12.75c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125m19.5 0v1.5c0 .621-.504 1.125-1.125 1.125M2.25 5.625v1.5c0 .621.504 1.125 1.125 1.125m0 0h17.25m-17.25 0h7.5c.621 0 1.125.504 1.125 1.125M3.375 8.25c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m17.25-3.75h-7.5c-.621 0-1.125.504-1.125 1.125m8.625-1.125c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M12 10.875v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125M13.125 12h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125M20.625 12c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5M12 14.625v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 14.625c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m0 1.5v-1.5m0 0c0-.621.504-1.125 1.125-1.125m0 0h7.5"}))}),m=a.forwardRef(function(e,t){let{title:s,titleId:r,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),s?a.createElement("title",{id:r},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}),u=a.forwardRef(function(e,t){let{title:s,titleId:r,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),s?a.createElement("title",{id:r},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"}))});function x(e){var t,s;let{job:a,showFeed:l}=e,o=a.isCodeBased?{label:"XML Code",icon:i,color:"text-purple-600",bgColor:"bg-purple-50",borderColor:"border-purple-200"}:a.isXML?{label:"XML",icon:c,color:"text-orange-600",bgColor:"bg-orange-50",borderColor:"border-orange-200"}:a.isJSON?{label:"JSON",icon:i,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200"}:a.isCSV?{label:"CSV",icon:d,color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200"}:{label:"RSS",icon:c,color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200"},n=(()=>{if("twitter"===a.source)return{name:"Twitter",url:"https://twitter.com/JobFound5",color:"text-blue-500",bgColor:"bg-blue-50",borderColor:"border-blue-200"};let e=a.feedName||"",t=a.feedUrl||"";return e.toLowerCase().includes("himalayas")||t.includes("himalayas.app")?{name:"Himalayas",url:"https://himalayas.app",color:"text-purple-600",bgColor:"bg-purple-50",borderColor:"border-purple-200"}:e.toLowerCase().includes("jobicy")||t.includes("jobicy.com")?{name:"Jobicy",url:"https://jobicy.com",color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200"}:e.toLowerCase().includes("jobs found")||t.includes("rss.app")?{name:"Jobs Found",url:t,color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200"}:{name:e||"Remote Jobs",url:t||"#",color:"text-gray-600",bgColor:"bg-gray-50",borderColor:"border-gray-200"}})(),x=o.icon;return(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200 overflow-hidden",children:[(0,r.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,r.jsxs)("div",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(o.bgColor," ").concat(o.color," mb-2 sm:mb-3"),children:[(0,r.jsx)(x,{className:"w-3 h-3 mr-1"}),o.label]}),(0,r.jsx)("h2",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2 sm:mb-3 leading-tight break-words line-clamp-3 sm:line-clamp-2",children:a.title}),(0,r.jsxs)("p",{className:"text-gray-600 text-xs sm:text-sm mb-3 sm:mb-4 leading-relaxed break-words line-clamp-5 sm:line-clamp-3",children:[null===(t=a.description)||void 0===t?void 0:t.substring(0,250),(null===(s=a.description)||void 0===s?void 0:s.length)>250?"...":""]}),Array.isArray(a.categories)&&a.categories.length>0&&(0,r.jsxs)("div",{className:"flex flex-wrap gap-1 mb-3",children:[a.categories.slice(0,3).map((e,t)=>(0,r.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-gray-100 text-gray-700",children:e},"category-".concat(t))),a.categories.length>3&&(0,r.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-gray-100 text-gray-500",children:["+",a.categories.length-3," more"]},"more-categories")]}),l&&a.feedUrl&&(0,r.jsxs)("div",{className:"text-xs text-blue-700 mb-2 break-all",children:[(0,r.jsx)("span",{className:"font-medium",children:"Feed: "}),(0,r.jsx)("a",{href:a.feedUrl,target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-blue-800",children:a.feedName||a.feedUrl})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 sm:gap-0",children:[(0,r.jsxs)("div",{className:"flex items-center text-xs text-gray-500",children:[(0,r.jsx)(m,{className:"w-3 h-3 mr-1"}),(e=>{if(!e)return"";try{return new Date(e).toLocaleDateString()}catch(e){return""}})(a.publishedDate||a.pubDate)]}),(0,r.jsxs)("a",{href:a.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium text-xs sm:text-sm w-full sm:w-auto justify-center",children:[(0,r.jsx)(u,{className:"w-4 h-4 mr-1"}),"Apply"]})]})]}),(0,r.jsx)("div",{className:"px-4 sm:px-6 py-2 sm:py-3 bg-gray-50 border-t border-gray-100",children:(0,r.jsxs)("div",{className:"text-xs text-gray-500",children:["Job posted on"," ",(0,r.jsx)("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:"".concat(n.color," hover:underline font-medium"),children:n.name}),a.author&&"twitter"===a.source&&(0,r.jsxs)("span",{className:"ml-1",children:["by @",a.author]})]})})]})}function h(e){var t,s;let{scholarship:a,showFeed:l}=e,o=e=>{if(!e)return"";try{return new Date(e).toLocaleDateString()}catch(e){return""}},n=a.isCodeBased?{label:"XML Code",icon:i,color:"text-purple-600",bgColor:"bg-purple-50"}:a.isXML?{label:"XML",icon:c,color:"text-orange-600",bgColor:"bg-orange-50"}:a.isJSON?{label:"JSON",icon:i,color:"text-blue-600",bgColor:"bg-blue-50"}:a.isCSV?{label:"CSV",icon:d,color:"text-green-600",bgColor:"bg-green-50"}:{label:"RSS",icon:c,color:"text-green-600",bgColor:"bg-green-50"},x=(()=>{let e=a.feedName||"",t=a.feedUrl||"";return e.toLowerCase().includes("scholarships region")||t.includes("scholarshipregion.com")?{name:"Scholarships Region",url:"https://www.scholarshipregion.com",color:"text-blue-600"}:e.toLowerCase().includes("scholarships and aid")||t.includes("scholarshipsandaid.org")?{name:"Scholarships & Aid",url:"https://scholarshipsandaid.org",color:"text-green-600"}:{name:e||"Scholarships",url:t||"#",color:"text-gray-600"}})(),h=n.icon;return(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200 overflow-hidden",children:[(0,r.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,r.jsxs)("div",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(n.bgColor," ").concat(n.color," mb-2 sm:mb-3"),children:[(0,r.jsx)(h,{className:"w-3 h-3 mr-1"}),n.label]}),a.amount&&(0,r.jsxs)("div",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 mb-2 sm:mb-3 ml-2",children:[(0,r.jsx)("span",{className:"text-xs mr-1",children:"$"}),a.amount]}),(0,r.jsx)("h2",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2 sm:mb-3 leading-tight break-words line-clamp-3 sm:line-clamp-2",children:a.title}),(0,r.jsxs)("p",{className:"text-gray-600 text-xs sm:text-sm mb-3 sm:mb-4 leading-relaxed break-words line-clamp-5 sm:line-clamp-3",children:[null===(t=a.description)||void 0===t?void 0:t.substring(0,250),(null===(s=a.description)||void 0===s?void 0:s.length)>250?"...":""]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-1 mb-3",children:[a.level&&(0,r.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-blue-100 text-blue-800",children:a.level}),a.country&&(0,r.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-purple-100 text-purple-800",children:a.country}),a.field&&(0,r.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-orange-100 text-orange-800",children:a.field})]}),Array.isArray(a.categories)&&a.categories.length>0&&(0,r.jsxs)("div",{className:"flex flex-wrap gap-1 mb-3",children:[a.categories.slice(0,2).map((e,t)=>(0,r.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-gray-100 text-gray-700",children:e},"category-".concat(t))),a.categories.length>2&&(0,r.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-gray-100 text-gray-500",children:["+",a.categories.length-2," more"]},"more-categories")]}),a.deadline&&(0,r.jsxs)("div",{className:"text-sm text-red-600 font-medium mb-3 flex items-center",children:[(0,r.jsx)(m,{className:"w-4 h-4 mr-1"}),"Deadline: ",o(a.deadline)]}),l&&a.feedUrl&&(0,r.jsxs)("div",{className:"text-xs text-blue-700 mb-2 break-all",children:[(0,r.jsx)("span",{className:"font-medium",children:"Feed: "}),(0,r.jsx)("a",{href:a.feedUrl,target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-blue-800",children:a.feedName||a.feedUrl})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 sm:gap-0",children:[(0,r.jsxs)("div",{className:"flex items-center text-xs text-gray-500",children:[(0,r.jsx)(m,{className:"w-3 h-3 mr-1"}),o(a.pubDate)]}),(0,r.jsxs)("a",{href:a.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium text-xs sm:text-sm w-full sm:w-auto justify-center",children:[(0,r.jsx)(u,{className:"w-4 h-4 mr-1"}),"View Details"]})]})]}),(0,r.jsx)("div",{className:"px-4 sm:px-6 py-2 sm:py-3 bg-gray-50 border-t border-gray-100",children:(0,r.jsxs)("div",{className:"text-xs text-gray-500",children:["Scholarship posted on"," ",(0,r.jsx)("a",{href:x.url,target:"_blank",rel:"noopener noreferrer",className:"".concat(x.color," hover:underline font-medium"),children:x.name})]})})]})}var b=s(1990),g=s(4964);function f(){let e=(0,l.useRouter)(),{type:t}=e.query,[s,i]=(0,a.useState)("job"),[c,d]=(0,a.useState)(!1),[m,u]=(0,a.useState)([]),[f,p]=(0,a.useState)([]),[w,j]=(0,a.useState)(!0),[v,y]=(0,a.useState)(""),[N,k]=(0,a.useState)(new Date().toISOString().split("T")[0]),[S,C]=(0,a.useState)(!0),[E,L]=(0,a.useState)(!1),[M,_]=(0,a.useState)(new Date().getMonth()+1),[A,D]=(0,a.useState)(new Date().getFullYear()),[I,B]=(0,a.useState)({}),[Z,J]=(0,a.useState)(!1),[O,R]=(0,a.useState)([]),[F,V]=(0,a.useState)(!1),[P,H]=(0,a.useState)(null),[T,W]=(0,a.useState)(""),[z,U]=(0,a.useState)(""),[X,q]=(0,a.useState)(""),[$,Y]=(0,a.useState)(null),[K,G]=(0,a.useState)(0),[Q,ee]=(0,a.useState)([]);(0,a.useEffect)(()=>{d(!0),"Notification"in window&&el(Notification.permission)},[]),(0,a.useEffect)(()=>{if(c){if(t)i(t),localStorage.setItem("userPreference",t);else{let e=localStorage.getItem("userPreference");e&&i(e)}}},[t,c]);let et=async()=>{var e,t,r,a;V(!0),H(null),G(0);try{let r=localStorage.getItem("token"),a="http://localhost:4000",l=(await o.Z.get("".concat(a,"/api/user/rss-feeds?type=").concat(s),{headers:{Authorization:"Bearer ".concat(r)}})).data.feeds||[];ee(l);let n=[];for(let i=0;i<l.length;i++){let c=l[i];try{let e="job"===s?"rss-feeds":"scholarships",t=await o.Z.get("".concat(a,"/api/user/").concat(e,"/").concat(c._id,"/raw"),{headers:{Authorization:"Bearer ".concat(r)}});n.push(t.data)}catch(s){n.push({feed:{url:c.url,name:c.name},items:[],error:(null===(t=s.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.error)||s.message})}G(Math.round((i+1)/l.length*100))}R(n)}catch(e){H((null===(a=e.response)||void 0===a?void 0:null===(r=a.data)||void 0===r?void 0:r.error)||e.message)}finally{V(!1),setTimeout(()=>G(0),500)}};(0,a.useEffect)(()=>{if(!c)return;let t=localStorage.getItem("token");if(!t){e.replace("/login");return}"job"===s?eo(t):en(t),ei(t),et()},[e,N,Z,s,c]),(0,a.useEffect)(()=>{if(!c)return;let e=setInterval(()=>{et(),er(!0),setTimeout(()=>er(!1),2e3)},3e5);return()=>clearInterval(e)},[s,c]);let[es,er]=(0,a.useState)(!1),[ea,el]=(0,a.useState)("default"),eo=async e=>{try{j(!0),y("");let t="".concat("http://localhost:4000","/api/jobs?");Z?t+="last24h=true":t+="date=".concat(N);let s=await o.Z.get(t,{headers:{Authorization:"Bearer ".concat(e)}});u(s.data.jobs||[])}catch(e){var t,s;y((null===(s=e.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.error)||"Failed to load jobs"),u([])}finally{j(!1)}},en=async e=>{try{j(!0),y("");let t="".concat("http://localhost:4000","/api/scholarships?");Z?t+="last24h=true":t+="date=".concat(N);let s=await o.Z.get(t,{headers:{Authorization:"Bearer ".concat(e)}});p(s.data.scholarships||[])}catch(e){var t,s;y((null===(s=e.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.error)||"Failed to load scholarships"),p([])}finally{j(!1)}},ei=async e=>{try{let t="job"===s?"jobs":"scholarships",r=await o.Z.get("".concat("http://localhost:4000","/api/").concat(t,"/calendar?month=").concat(M,"&year=").concat(A,"&filterByPreferences=").concat(S),{headers:{Authorization:"Bearer ".concat(e)}});B(r.data.calendarData||[])}catch(e){console.error("Error fetching calendar data:",e)}};(0,a.useMemo)(()=>{let e=new Set;return O.forEach(t=>{(t.items||[]).forEach(t=>{t.categories&&Array.isArray(t.categories)&&t.categories.forEach(t=>e.add(t))})}),Array.from(e).sort()},[O]);let ec=(0,a.useMemo)(()=>X?O.map(e=>({...e,items:(e.items||[]).filter(e=>e.categories&&e.categories.includes(X))})):O,[O,X]),ed=(0,a.useMemo)(()=>O.reduce((e,t)=>e+(t.items?t.items.length:0),0),[O]),[em,eu]=(0,a.useState)(!1),ex=(0,a.useMemo)(()=>{if(em)return ec;let e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()-2,0,0,0,0);return ec.map(s=>({...s,items:(s.items||[]).filter(s=>{if(!s.pubDate)return!1;let r=new Date(s.pubDate);return r>=t&&r<=e})}))},[ec,em]),eh=(0,a.useMemo)(()=>{if(!T.trim())return ex;let e=T.trim().toLowerCase().split(/\s+/).filter(Boolean);return ex.map(t=>({...t,items:(t.items||[]).filter(t=>{let s=[t.title,t.description,t.content,t.contentSnippet];return e.every(e=>s.some(t=>t&&t.toLowerCase().includes(e)))})}))},[ex,T]);function eb(e){if(!T.trim()||!e)return e;let t=T.trim().split(/\s+/).filter(Boolean),s=e;return t.forEach(e=>{if(!e)return;let t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),r=RegExp("(".concat(t,")"),"gi");s=s.replace(r,"<mark>$1</mark>")}),s}async function eg(e,t){let r="New ".concat(s,": ").concat(e.title),a=e.link||e.guid||"";"Notification"in window&&("granted"===Notification.permission?new Notification(r,{body:"From: ".concat(t),data:{url:a}}).onclick=()=>{a&&window.open(a,"_blank")}:"denied"!==Notification.permission&&Notification.requestPermission())}return(0,a.useEffect)(()=>{if(!c||!O||!O.length)return;let e=(localStorage.getItem("alertKeywords")||"").split(/,|\n/).map(e=>e.trim().toLowerCase()).filter(Boolean);if(!e.length)return;let t=new Set(JSON.parse(localStorage.getItem("notifiedItemIds")||"[]")),s=Array.from(t);O.forEach(r=>{var a,l;let o=(null===(a=r.feed)||void 0===a?void 0:a.name)||(null===(l=r.feed)||void 0===l?void 0:l.url)||"Unknown Feed";(r.items||[]).forEach(r=>{let a=r.guid||r.link||r.title;if(!a||t.has(a))return;let l=[r.title,r.description,r.content,r.contentSnippet].map(e=>(e||"").toLowerCase());e.some(e=>l.some(t=>t.includes(e)))&&(eg(r,o),s.push(a))})}),s.length>t.size&&localStorage.setItem("notifiedItemIds",JSON.stringify(s))},[O,s,c]),(0,a.useEffect)(()=>{c&&"Notification"in window&&"granted"!==Notification.permission&&"denied"!==Notification.permission&&Notification.requestPermission().then(e=>{"granted"!==e&&alert("Enable notifications to get ".concat(s," alerts on your device!"))})},[s,c]),(0,a.useEffect)(()=>{c&&window},[c]),(0,a.useEffect)(()=>{c&&"Notification"in window&&"default"===Notification.permission&&Notification.requestPermission()},[c]),(0,r.jsx)(n.Z,{children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto py-4 px-2 sm:py-8 sm:px-4 overflow-x-hidden",children:["default"===ea&&(0,r.jsx)("div",{className:"mb-4 flex justify-center",children:(0,r.jsx)("button",{className:"px-6 py-2 bg-blue-600 text-white rounded-lg shadow hover:bg-blue-700 transition font-semibold",onClick:()=>{"Notification"in window&&Notification.requestPermission().then(e=>{el(e)})},children:"Enable Notifications"})}),"granted"===ea&&(0,r.jsx)("div",{className:"mb-4 text-green-700 text-center font-semibold",children:"Notifications enabled!"}),"denied"===ea&&(0,r.jsx)("div",{className:"mb-4 text-red-600 text-center font-semibold",children:"Notifications are blocked. Please enable them in your browser settings."}),(0,r.jsxs)("div",{className:"bg-white shadow rounded-lg p-4 sm:p-6 mb-6 sm:mb-8 flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:["job"===s?(0,r.jsx)(b.Z,{className:"w-8 h-8 text-blue-600"}):(0,r.jsx)(g.Z,{className:"w-8 h-8 text-green-600"}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h1",{className:"text-2xl sm:text-3xl font-extrabold text-gray-900 mb-1 sm:mb-2",children:["job"===s?"Remote Jobs":"Scholarships"," Dashboard"]}),(0,r.jsxs)("div",{className:"text-gray-600 text-base sm:text-lg",children:[ed," ","job"===s?"job":"scholarship",1===ed?"":"s"," fetched across all feeds"]})]})]}),(0,r.jsxs)("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[(0,r.jsxs)("button",{className:"flex items-center justify-center px-4 py-2 rounded-md font-medium transition ".concat("job"===s?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),onClick:()=>{"job"!==s&&(j(!0),u([]),p([]),i("job"),localStorage.setItem("userPreference","job"))},children:[(0,r.jsx)(b.Z,{className:"w-5 h-5 mr-2"}),"Jobs"]}),(0,r.jsxs)("button",{className:"flex items-center justify-center px-4 py-2 rounded-md font-medium transition ".concat("scholarship"===s?"bg-white text-green-600 shadow-sm":"text-gray-600 hover:text-gray-900"),onClick:()=>{"scholarship"!==s&&(j(!0),u([]),p([]),i("scholarship"),localStorage.setItem("userPreference","scholarship"))},children:[(0,r.jsx)(g.Z,{className:"w-5 h-5 mr-2"}),"Scholarships"]})]})]}),v&&(0,r.jsx)("div",{className:"mb-4 sm:mb-6 p-3 sm:p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,r.jsx)("p",{className:"text-red-600 text-sm sm:text-base",children:v})}),F&&(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center py-8 sm:py-16 animate-pulse",children:[(0,r.jsxs)("div",{className:"text-xl sm:text-2xl font-bold text-blue-600 mb-1 sm:mb-2",children:["Fetching the freshest ","job"===s?"remote jobs":"scholarships"," for you..."]}),(0,r.jsxs)("div",{className:"text-base sm:text-lg text-blue-400 italic mb-2 sm:mb-4",children:["Hang tight, your dream ","job"===s?"job":"opportunity"," might be in this batch! \uD83D\uDE80"]}),(0,r.jsx)("div",{className:"w-full max-w-xs sm:max-w-md h-3 sm:h-4 bg-blue-100 rounded-full overflow-hidden shadow mb-1 sm:mb-2",children:(0,r.jsx)("div",{className:"h-full bg-gradient-to-r from-blue-400 to-blue-600 transition-all duration-200",style:{width:"".concat(K,"%")}})}),(0,r.jsxs)("div",{className:"text-xs sm:text-sm text-blue-700 font-semibold",children:[K,"%"]})]}),es&&(0,r.jsxs)("div",{className:"fixed top-2 right-2 sm:top-4 sm:right-4 bg-blue-600 text-white px-3 sm:px-4 py-1 sm:py-2 rounded shadow-lg z-50 transition text-xs sm:text-base",children:["job"===s?"Jobs":"Scholarships"," auto-refreshed!"]}),w&&(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"}),(0,r.jsxs)("p",{className:"text-gray-600",children:["Loading ","job"===s?"jobs":"scholarships","..."]})]}),!w&&"job"===s&&m.length>0&&(0,r.jsx)("div",{className:"grid gap-4 sm:gap-6 grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:m.map((e,t)=>(0,r.jsx)(x,{job:e,showFeed:!0},e.wwrJobId||e._id||e.guid||e.link||"job-".concat(t)))}),!w&&"job"===s&&0===m.length&&(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(b.Z,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No jobs found"}),(0,r.jsx)("p",{className:"text-gray-500 mb-4",children:"We couldn't find any jobs from your feeds for today. Try checking your preferences or adding more feeds."})]}),!w&&"scholarship"===s&&f.length>0&&(0,r.jsx)("div",{className:"grid gap-4 sm:gap-6 grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:f.map((e,t)=>(0,r.jsx)(h,{scholarship:e,showFeed:!0},e._id||e.guid||e.link||"scholarship-".concat(t)))}),!w&&"scholarship"===s&&0===f.length&&(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(g.Z,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No scholarships found"}),(0,r.jsx)("p",{className:"text-gray-500 mb-4",children:"We couldn't find any scholarships from your feeds for today. Try checking your preferences or adding more feeds."})]}),(0,r.jsxs)("div",{className:"mb-4 sm:mb-6 flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-4",children:[(0,r.jsxs)("button",{className:"w-full sm:w-auto px-4 py-2 rounded-lg font-semibold shadow transition text-sm sm:text-base ".concat(em?"bg-gray-200 text-gray-700":"bg-blue-600 text-white hover:bg-blue-700"),onClick:()=>eu(!1),children:["Recent ","job"===s?"Jobs":"Scholarships"," (Last 3 Days)"]}),(0,r.jsxs)("button",{className:"w-full sm:w-auto px-4 py-2 rounded-lg font-semibold shadow transition text-sm sm:text-base ".concat(em?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-200 text-gray-700"),onClick:()=>eu(!0),children:["View Older ","job"===s?"Jobs":"Scholarships"]})]}),(0,r.jsxs)("div",{className:"mt-8 sm:mt-16",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4 mb-2 sm:mb-4",children:[(0,r.jsx)("input",{type:"text",placeholder:"Filter by keyword...",value:T,onChange:e=>{W(e.target.value),""===e.target.value&&et()},className:"border px-3 py-2 rounded-lg w-full sm:w-1/3 focus:outline-none focus:ring-2 focus:ring-blue-400 transition text-sm sm:text-base"}),(0,r.jsx)("input",{type:"date",value:z,onChange:e=>{U(e.target.value),et()},className:"border px-3 py-2 rounded-lg w-full sm:w-1/3 focus:outline-none focus:ring-2 focus:ring-blue-400 transition text-sm sm:text-base"}),(0,r.jsx)("button",{onClick:()=>et(),className:"bg-gradient-to-r from-blue-600 to-blue-400 text-white px-4 sm:px-6 py-2 rounded-lg shadow hover:from-blue-700 hover:to-blue-500 transition font-semibold text-sm sm:text-base",disabled:F,children:F?"Loading...":"Fetch Feeds"})]}),P&&(0,r.jsx)("div",{className:"text-red-600 mb-2 font-semibold text-sm sm:text-base",children:P}),(0,r.jsx)("div",{className:"space-y-6 sm:space-y-8",children:eh.map(e=>(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg overflow-x-auto",children:[(0,r.jsxs)("button",{className:"w-full flex flex-col sm:flex-row justify-between items-start sm:items-center px-4 sm:px-6 py-3 sm:py-4 text-left focus:outline-none focus:ring-2 focus:ring-blue-400 rounded-t-xl bg-gradient-to-r from-blue-50 to-blue-100 hover:from-blue-100 hover:to-blue-200 transition gap-2 sm:gap-0",onClick:()=>Y($===e.feed.url?null:e.feed.url),children:[(0,r.jsxs)("span",{className:"text-lg sm:text-xl font-semibold text-blue-700 flex items-center gap-2",children:[(0,r.jsx)("span",{className:"inline-block w-2 h-2 rounded-full bg-blue-400"}),e.feed.name||e.feed.url]}),(0,r.jsxs)("span",{className:"text-sm text-gray-500 mt-1 sm:mt-0",children:[e.items.length," ","job"===s?"job":"scholarship",1===e.items.length?"":"s"]}),(0,r.jsx)("svg",{className:"w-5 h-5 ml-0 sm:ml-2 transform transition-transform ".concat($===e.feed.url?"rotate-180":""),fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),$===e.feed.url&&(0,r.jsx)("div",{className:"px-4 sm:px-6 pb-4 sm:pb-6 pt-1 sm:pt-2",children:e.error?(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 rounded-lg p-3 sm:p-4 mb-3 sm:mb-4 font-medium shadow-sm text-sm sm:text-base",children:e.error}):(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[e.items.map((e,t)=>(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl shadow-md p-3 sm:p-5 hover:shadow-xl hover:border-blue-400 transition cursor-pointer flex flex-col justify-between min-h-[180px]",onClick:()=>window.open(e.link,"_blank"),children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-bold text-base sm:text-lg mb-1 text-gray-900 line-clamp-2",dangerouslySetInnerHTML:{__html:eb(e.title)}}),(0,r.jsx)("div",{className:"text-xs text-gray-500 mb-2",children:e.pubDate&&new Date(e.pubDate).toLocaleString()}),e.content&&/<\/?[a-z][\s\S]*>/i.test(e.content)?(0,r.jsx)("div",{className:"text-gray-700 mb-2 line-clamp-3",dangerouslySetInnerHTML:{__html:eb(e.content)}}):e.description&&/<\/?[a-z][\s\S]*>/i.test(e.description)?(0,r.jsx)("div",{className:"text-gray-700 mb-2 line-clamp-3",dangerouslySetInnerHTML:{__html:eb(e.description)}}):(0,r.jsx)("div",{className:"text-gray-700 mb-2 line-clamp-3",dangerouslySetInnerHTML:{__html:eb(e.contentSnippet||e.description||"")}})]}),(0,r.jsxs)("div",{className:"mt-2 text-blue-600 font-semibold text-xs sm:text-sm underline self-end",children:["View ","job"===s?"Job":"Scholarship"]})]},e.guid||e.link||t)),0===e.items.length&&(0,r.jsxs)("div",{className:"text-gray-400 italic text-xs sm:text-base",children:["No ","job"===s?"jobs":"scholarships"," found for this feed."]})]})})]},e.feed.url))})]})]})})}},4964:function(e,t,s){"use strict";var r=s(7294);let a=r.forwardRef(function(e,t){let{title:s,titleId:a,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),s?r.createElement("title",{id:a},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))});t.Z=a},1990:function(e,t,s){"use strict";var r=s(7294);let a=r.forwardRef(function(e,t){let{title:s,titleId:a,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),s?r.createElement("title",{id:a},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z"}))});t.Z=a}},function(e){e.O(0,[143,888,774,179],function(){return e(e.s=1075)}),_N_E=e.O()}]);